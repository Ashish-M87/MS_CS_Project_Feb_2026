<svg xmlns="http://www.w3.org/2000/svg" width="1340" height="980" font-family="Arial, sans-serif">
  <defs>
    <marker id="ab" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0,10 3.5,0 7" fill="#1F4E79"/>
    </marker>
    <marker id="ay" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0,10 3.5,0 7" fill="#B8860B"/>
    </marker>
    <marker id="ag" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0,10 3.5,0 7" fill="#2E7D32"/>
    </marker>
    <marker id="ak" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0,10 3.5,0 7" fill="#777"/>
    </marker>
    <filter id="sh">
      <feDropShadow dx="2" dy="2" stdDeviation="2.5" flood-color="#00000018"/>
    </filter>
  </defs>

  <!-- BG -->
  <rect width="1340" height="980" fill="#F1F5FB"/>

  <!-- Title -->
  <rect x="0" y="0" width="1340" height="46" fill="#1F4E79"/>
  <text x="670" y="30" text-anchor="middle" font-size="17" font-weight="bold" fill="white">Expense Tracker — Application Structure (UML Class Diagram)</text>

  <!-- Subtitle row -->
  <rect x="0" y="46" width="670" height="24" fill="#2B5797"/>
  <rect x="670" y="46" width="670" height="24" fill="#9A6800"/>
  <text x="335" y="63" text-anchor="middle" font-size="12" font-weight="bold" fill="white">C++ / Qt6 — feature/cpp branch</text>
  <text x="1005" y="63" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Python / PySide6 — feature/python branch</text>

  <!-- ══ SHARED UI LAYER ══ -->
  <rect x="380" y="82" width="580" height="76" rx="8" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2" filter="url(#sh)"/>
  <rect x="380" y="82" width="580" height="26" rx="8" fill="#2E7D32"/>
  <rect x="380" y="96"  width="580" height="12" fill="#2E7D32"/>
  <text x="670" y="100" text-anchor="middle" font-size="12" font-weight="bold" fill="white">«Shared UI Layer»   shared/ui/   +   shared/resources/</text>
  <text x="670" y="122" text-anchor="middle" font-size="11" fill="#1B5E20">main_window.ui   ·   add_expense_dialog.ui   ·   summary_panel.ui</text>
  <text x="670" y="140" text-anchor="middle" font-size="10.5" fill="#388E3C">expense_theme.qss  (shared stylesheet)   ·   app_icon.png / .ico / .icns</text>

  <!-- ══════ C++ CLASSES ══════ -->

  <!-- main.cpp -->
  <rect x="20" y="190" width="195" height="80" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="20" y="190" width="195" height="26" rx="6" fill="#1F4E79"/>
  <rect x="20" y="204" width="195" height="12"  fill="#1F4E79"/>
  <text x="117" y="207" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">main.cpp</text>
  <line x1="20" y1="218" x2="215" y2="218" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="234" font-size="10" fill="#222">Entry point</text>
  <text x="30" y="249" font-size="10" fill="#555">Constructs Application,</text>
  <text x="30" y="262" font-size="10" fill="#555">calls exec()</text>

  <!-- application.h/.cpp -->
  <rect x="20" y="295" width="195" height="90" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="20" y="295" width="195" height="26" rx="6" fill="#1F4E79"/>
  <rect x="20" y="309" width="195" height="12"  fill="#1F4E79"/>
  <text x="117" y="312" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">Application</text>
  <text x="117" y="324" text-anchor="middle" font-size="9.5" fill="#BBD9F0">application.h / .cpp</text>
  <line x1="20" y1="330" x2="215" y2="330" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="346" font-size="10" fill="#222">extends QApplication</text>
  <text x="30" y="361" font-size="10" fill="#555">Loads stylesheet,</text>
  <text x="30" y="374" font-size="10" fill="#555">sets app name + icon</text>

  <!-- MainWindow C++ -->
  <rect x="230" y="190" width="215" height="185" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="230" y="190" width="215" height="26" rx="6" fill="#1F4E79"/>
  <rect x="230" y="204" width="215" height="12"  fill="#1F4E79"/>
  <text x="337" y="207" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">MainWindow</text>
  <text x="337" y="221" text-anchor="middle" font-size="9.5"  fill="#BBD9F0">main_window.h / .cpp</text>
  <line x1="230" y1="228" x2="445" y2="228" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="240" y="244" font-size="10" fill="#222">extends QMainWindow</text>
  <text x="240" y="259" font-size="10" fill="#222">Loads main_window.ui</text>
  <line x1="230" y1="267" x2="445" y2="267" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="240" y="283" font-size="10" fill="#555">Owns: ExpenseRepository</text>
  <text x="240" y="298" font-size="10" fill="#555">Owns: ExpenseTableModel</text>
  <text x="240" y="313" font-size="10" fill="#555">Owns: FilterProxyModel</text>
  <text x="240" y="328" font-size="10" fill="#555">Owns: SummaryPanel</text>
  <text x="240" y="343" font-size="10" fill="#555">Connects all signals/slots</text>
  <text x="240" y="358" font-size="10" fill="#555">via Q_OBJECT + connect()</text>
  <text x="240" y="370" font-size="9.5" fill="#2B5797">smart ptrs, no raw new/delete</text>

  <!-- AddExpenseDialog C++ -->
  <rect x="230" y="400" width="215" height="120" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="230" y="400" width="215" height="26" rx="6" fill="#1F4E79"/>
  <rect x="230" y="414" width="215" height="12"  fill="#1F4E79"/>
  <text x="337" y="417" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">AddExpenseDialog</text>
  <text x="337" y="431" text-anchor="middle" font-size="9.5"  fill="#BBD9F0">add_expense_dialog.h / .cpp</text>
  <line x1="230" y1="437" x2="445" y2="437" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="240" y="453" font-size="10" fill="#222">extends QDialog</text>
  <text x="240" y="468" font-size="10" fill="#222">Loads add_expense_dialog.ui</text>
  <line x1="230" y1="476" x2="445" y2="476" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="240" y="492" font-size="10" fill="#555">Add / edit expense record</text>
  <text x="240" y="507" font-size="10" fill="#555">Validates input fields</text>

  <!-- SummaryPanel C++ -->
  <rect x="230" y="545" width="215" height="110" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="230" y="545" width="215" height="26" rx="6" fill="#1F4E79"/>
  <rect x="230" y="559" width="215" height="12"  fill="#1F4E79"/>
  <text x="337" y="562" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">SummaryPanel</text>
  <text x="337" y="576" text-anchor="middle" font-size="9.5"  fill="#BBD9F0">summary_panel.h / .cpp</text>
  <line x1="230" y1="582" x2="445" y2="582" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="240" y="598" font-size="10" fill="#222">extends QWidget</text>
  <text x="240" y="613" font-size="10" fill="#222">Loads summary_panel.ui</text>
  <line x1="230" y1="621" x2="445" y2="621" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="240" y="637" font-size="10" fill="#555">Category totals + grand total</text>
  <text x="240" y="652" font-size="10" fill="#555">QChart bar chart</text>

  <!-- ExpenseRepository C++ -->
  <rect x="20" y="430" width="195" height="175" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="20" y="430" width="195" height="26" rx="6" fill="#1F4E79"/>
  <rect x="20" y="444" width="195" height="12"  fill="#1F4E79"/>
  <text x="117" y="447" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">ExpenseRepository</text>
  <text x="117" y="461" text-anchor="middle" font-size="9.5"  fill="#BBD9F0">expense_repository.h / .cpp</text>
  <line x1="20" y1="467" x2="215" y2="467" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="483" font-size="10" fill="#555">Store: std::vector&lt;ExpenseRecord&gt;</text>
  <line x1="20" y1="491" x2="215" y2="491" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="507" font-size="10" fill="#222">add / remove / update expense</text>
  <text x="30" y="522" font-size="10" fill="#222">filter by date range</text>
  <text x="30" y="537" font-size="10" fill="#222">filter by category</text>
  <text x="30" y="552" font-size="10" fill="#222">get category totals</text>
  <text x="30" y="567" font-size="10" fill="#222">load / save JSON</text>
  <text x="30" y="582" font-size="9.5" fill="#555">STL algorithms + nlohmann/json</text>
  <text x="30" y="596" font-size="9.5" fill="#555">expense_record.h (data struct)</text>

  <!-- ExpenseTableModel C++ -->
  <rect x="20" y="630" width="195" height="120" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="20" y="630" width="195" height="26" rx="6" fill="#1F4E79"/>
  <rect x="20" y="644" width="195" height="12"  fill="#1F4E79"/>
  <text x="117" y="647" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">ExpenseTableModel</text>
  <text x="117" y="661" text-anchor="middle" font-size="9.5"  fill="#BBD9F0">expense_table_model.h / .cpp</text>
  <line x1="20" y1="667" x2="215" y2="667" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="683" font-size="10" fill="#222">extends QAbstractTableModel</text>
  <line x1="20" y1="691" x2="215" y2="691" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="707" font-size="10" fill="#555">Adapts repository data</text>
  <text x="30" y="722" font-size="10" fill="#555">for Qt table view widget</text>
  <text x="30" y="737" font-size="10" fill="#555">Emits dataChanged signal</text>

  <!-- FilterProxyModel C++ -->
  <rect x="20" y="775" width="195" height="100" rx="6" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="20" y="775" width="195" height="26" rx="6" fill="#1F4E79"/>
  <rect x="20" y="789" width="195" height="12"  fill="#1F4E79"/>
  <text x="117" y="792" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">FilterProxyModel</text>
  <text x="117" y="806" text-anchor="middle" font-size="9.5"  fill="#BBD9F0">filter_proxy_model.h / .cpp</text>
  <line x1="20" y1="812" x2="215" y2="812" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="828" font-size="10" fill="#222">extends QSortFilterProxyModel</text>
  <line x1="20" y1="836" x2="215" y2="836" stroke="#1F4E79" stroke-width="0.8"/>
  <text x="30" y="852" font-size="10" fill="#555">Live filter by date + category</text>
  <text x="30" y="867" font-size="10" fill="#555">Client-side sort</text>

  <!-- ══════ PYTHON CLASSES ══════ -->

  <!-- main.py -->
  <rect x="1125" y="190" width="195" height="80" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="1125" y="190" width="195" height="26" rx="6" fill="#B8860B"/>
  <rect x="1125" y="204" width="195" height="12"  fill="#B8860B"/>
  <text x="1222" y="207" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">main.py</text>
  <line x1="1125" y1="218" x2="1320" y2="218" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="234" font-size="10" fill="#222">Entry point</text>
  <text x="1135" y="249" font-size="10" fill="#555">Constructs QApplication,</text>
  <text x="1135" y="262" font-size="10" fill="#555">calls app.exec()</text>

  <!-- resource_path.py -->
  <rect x="1125" y="295" width="195" height="90" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="1125" y="295" width="195" height="26" rx="6" fill="#B8860B"/>
  <rect x="1125" y="309" width="195" height="12"  fill="#B8860B"/>
  <text x="1222" y="312" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">resource_path.py</text>
  <line x1="1125" y1="325" x2="1320" y2="325" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="341" font-size="10" fill="#222">Utility helper module</text>
  <text x="1135" y="356" font-size="10" fill="#555">Resolves .ui / .qss paths</text>
  <text x="1135" y="371" font-size="10" fill="#555">in dev and PyInstaller bundle</text>

  <!-- MainWindow Python -->
  <rect x="895" y="190" width="215" height="185" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="895" y="190" width="215" height="26" rx="6" fill="#B8860B"/>
  <rect x="895" y="204" width="215" height="12"  fill="#B8860B"/>
  <text x="1002" y="207" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">MainWindow</text>
  <text x="1002" y="221" text-anchor="middle" font-size="9.5"  fill="#FFE499">main_window.py</text>
  <line x1="895" y1="228" x2="1110" y2="228" stroke="#B8860B" stroke-width="0.8"/>
  <text x="905" y="244" font-size="10" fill="#222">extends QMainWindow</text>
  <text x="905" y="259" font-size="10" fill="#222">Loads main_window.ui</text>
  <line x1="895" y1="267" x2="1110" y2="267" stroke="#B8860B" stroke-width="0.8"/>
  <text x="905" y="283" font-size="10" fill="#555">Owns: ExpenseRepository</text>
  <text x="905" y="298" font-size="10" fill="#555">Owns: ExpenseTableModel</text>
  <text x="905" y="313" font-size="10" fill="#555">Owns: FilterProxyModel</text>
  <text x="905" y="328" font-size="10" fill="#555">Owns: SummaryPanel</text>
  <text x="905" y="343" font-size="10" fill="#555">Connects all signals/slots</text>
  <text x="905" y="358" font-size="10" fill="#555">via @Slot + .connect()</text>
  <text x="905" y="370" font-size="9.5" fill="#B8860B">uic.loadUiType() + resource_path()</text>

  <!-- AddExpenseDialog Python -->
  <rect x="895" y="400" width="215" height="120" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="895" y="400" width="215" height="26" rx="6" fill="#B8860B"/>
  <rect x="895" y="414" width="215" height="12"  fill="#B8860B"/>
  <text x="1002" y="417" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">AddExpenseDialog</text>
  <text x="1002" y="431" text-anchor="middle" font-size="9.5"  fill="#FFE499">add_expense_dialog.py</text>
  <line x1="895" y1="437" x2="1110" y2="437" stroke="#B8860B" stroke-width="0.8"/>
  <text x="905" y="453" font-size="10" fill="#222">extends QDialog</text>
  <text x="905" y="468" font-size="10" fill="#222">Loads add_expense_dialog.ui</text>
  <line x1="895" y1="476" x2="1110" y2="476" stroke="#B8860B" stroke-width="0.8"/>
  <text x="905" y="492" font-size="10" fill="#555">Add / edit expense record</text>
  <text x="905" y="507" font-size="10" fill="#555">Validates input fields</text>

  <!-- SummaryPanel Python -->
  <rect x="895" y="545" width="215" height="110" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="895" y="545" width="215" height="26" rx="6" fill="#B8860B"/>
  <rect x="895" y="559" width="215" height="12"  fill="#B8860B"/>
  <text x="1002" y="562" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">SummaryPanel</text>
  <text x="1002" y="576" text-anchor="middle" font-size="9.5"  fill="#FFE499">summary_panel.py</text>
  <line x1="895" y1="582" x2="1110" y2="582" stroke="#B8860B" stroke-width="0.8"/>
  <text x="905" y="598" font-size="10" fill="#222">extends QWidget</text>
  <text x="905" y="613" font-size="10" fill="#222">Loads summary_panel.ui</text>
  <line x1="895" y1="621" x2="1110" y2="621" stroke="#B8860B" stroke-width="0.8"/>
  <text x="905" y="637" font-size="10" fill="#555">Category totals + grand total</text>
  <text x="905" y="652" font-size="10" fill="#555">QChart bar chart</text>

  <!-- ExpenseRepository Python -->
  <rect x="1125" y="430" width="195" height="185" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="1125" y="430" width="195" height="26" rx="6" fill="#B8860B"/>
  <rect x="1125" y="444" width="195" height="12"  fill="#B8860B"/>
  <text x="1222" y="447" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">ExpenseRepository</text>
  <text x="1222" y="461" text-anchor="middle" font-size="9.5"  fill="#FFE499">expense_repository.py</text>
  <line x1="1125" y1="467" x2="1320" y2="467" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="483" font-size="10" fill="#555">Store: list[dict]</text>
  <line x1="1125" y1="491" x2="1320" y2="491" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="507" font-size="10" fill="#222">add / remove / update expense</text>
  <text x="1135" y="522" font-size="10" fill="#222">filter by date range</text>
  <text x="1135" y="537" font-size="10" fill="#222">filter by category</text>
  <text x="1135" y="552" font-size="10" fill="#222">get category totals</text>
  <text x="1135" y="567" font-size="10" fill="#222">load / save JSON</text>
  <text x="1135" y="582" font-size="9.5" fill="#555">list comprehensions + defaultdict</text>
  <text x="1135" y="597" font-size="9.5" fill="#555">expense_record.py (dataclass)</text>

  <!-- ExpenseTableModel Python -->
  <rect x="1125" y="640" width="195" height="120" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="1125" y="640" width="195" height="26" rx="6" fill="#B8860B"/>
  <rect x="1125" y="654" width="195" height="12"  fill="#B8860B"/>
  <text x="1222" y="657" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">ExpenseTableModel</text>
  <text x="1222" y="671" text-anchor="middle" font-size="9.5"  fill="#FFE499">expense_table_model.py</text>
  <line x1="1125" y1="677" x2="1320" y2="677" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="693" font-size="10" fill="#222">extends QAbstractTableModel</text>
  <line x1="1125" y1="701" x2="1320" y2="701" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="717" font-size="10" fill="#555">Adapts repository data</text>
  <text x="1135" y="732" font-size="10" fill="#555">for Qt table view widget</text>
  <text x="1135" y="747" font-size="10" fill="#555">Emits dataChanged signal</text>

  <!-- FilterProxyModel Python -->
  <rect x="1125" y="785" width="195" height="100" rx="6" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.8" filter="url(#sh)"/>
  <rect x="1125" y="785" width="195" height="26" rx="6" fill="#B8860B"/>
  <rect x="1125" y="799" width="195" height="12"  fill="#B8860B"/>
  <text x="1222" y="802" text-anchor="middle" font-size="11.5" font-weight="bold" fill="white">FilterProxyModel</text>
  <text x="1222" y="816" text-anchor="middle" font-size="9.5"  fill="#FFE499">filter_proxy_model.py</text>
  <line x1="1125" y1="822" x2="1320" y2="822" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="838" font-size="10" fill="#222">extends QSortFilterProxyModel</text>
  <line x1="1125" y1="846" x2="1320" y2="846" stroke="#B8860B" stroke-width="0.8"/>
  <text x="1135" y="862" font-size="10" fill="#555">Live filter by date + category</text>
  <text x="1135" y="877" font-size="10" fill="#555">Client-side sort</text>

  <!-- ══ SHARED DATA FILE ══ -->
  <rect x="480" y="875" width="380" height="70" rx="8" fill="#E8F5E9" stroke="#2E7D32" stroke-width="2"/>
  <text x="670" y="897" text-anchor="middle" font-size="12" font-weight="bold" fill="#1B5E20">«Shared Data File»</text>
  <text x="670" y="913" text-anchor="middle" font-size="11" fill="#1B5E20">shared/data/expenses.json</text>
  <text x="670" y="929" text-anchor="middle" font-size="10.5" fill="#388E3C">Read and written by both implementations — same JSON schema</text>

  <!-- ══ LEGEND ══ -->
  <rect x="480" y="190" width="380" height="130" rx="8" fill="white" stroke="#CCCCCC" stroke-width="1" filter="url(#sh)"/>
  <text x="495" y="212" font-size="11.5" font-weight="bold" fill="#1F4E79">Legend</text>
  <rect x="495" y="220" width="55" height="16" fill="#D0E6F5" stroke="#1F4E79" stroke-width="1.5" rx="2"/>
  <text x="557" y="233" font-size="10" fill="#222">C++ class / module</text>
  <rect x="495" y="242" width="55" height="16" fill="#FFF3CD" stroke="#B8860B" stroke-width="1.5" rx="2"/>
  <text x="557" y="255" font-size="10" fill="#222">Python class / module</text>
  <rect x="495" y="264" width="55" height="16" fill="#E8F5E9" stroke="#2E7D32" stroke-width="1.5" rx="2"/>
  <text x="557" y="277" font-size="10" fill="#222">Shared resource</text>
  <line x1="495" y1="293" x2="545" y2="293" stroke="#1F4E79" stroke-width="1.8" marker-end="url(#ab)"/>
  <text x="553" y="297" font-size="10" fill="#222">Owns / creates</text>
  <line x1="640" y1="220" x2="690" y2="220" stroke="#1F4E79" stroke-width="1.8" stroke-dasharray="5,3" marker-end="url(#ab)"/>
  <text x="698" y="224" font-size="10" fill="#222">Uses / references</text>
  <line x1="640" y1="244" x2="690" y2="244" stroke="#2E7D32" stroke-width="1.8" stroke-dasharray="6,3" marker-end="url(#ag)"/>
  <text x="698" y="248" font-size="10" fill="#222">Loads .ui file</text>
  <line x1="640" y1="268" x2="690" y2="268" stroke="#777" stroke-width="1.5" stroke-dasharray="3,3" marker-end="url(#ak)"/>
  <text x="698" y="272" font-size="10" fill="#222">Reads/writes data</text>

  <!-- ══ RELATIONSHIPS — C++ ══ -->
  <!-- main.cpp → Application -->
  <line x1="117" y1="270" x2="117" y2="295" stroke="#1F4E79" stroke-width="1.5" marker-end="url(#ab)"/>
  <!-- Application → MainWindow -->
  <line x1="215" y1="340" x2="230" y2="315" stroke="#1F4E79" stroke-width="1.5" marker-end="url(#ab)"/>
  <!-- shared UI → C++ MainWindow -->
  <line x1="480" y1="140" x2="380" y2="190" stroke="#2E7D32" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#ag)"/>
  <!-- shared UI → C++ AddExpenseDialog -->
  <line x1="460" y1="158" x2="360" y2="400" stroke="#2E7D32" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#ag)"/>
  <!-- shared UI → C++ SummaryPanel -->
  <line x1="445" y1="158" x2="340" y2="545" stroke="#2E7D32" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#ag)"/>
  <!-- MainWindow owns AddExpenseDialog -->
  <line x1="337" y1="375" x2="337" y2="400" stroke="#1F4E79" stroke-width="1.5" marker-end="url(#ab)"/>
  <!-- MainWindow owns SummaryPanel -->
  <line x1="337" y1="375" x2="337" y2="545" stroke="#1F4E79" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ab)"/>
  <!-- MainWindow → ExpenseRepository -->
  <line x1="230" y1="280" x2="215" y2="480" stroke="#1F4E79" stroke-width="1.5" marker-end="url(#ab)"/>
  <!-- MainWindow → ExpenseTableModel -->
  <line x1="230" y1="310" x2="215" y2="668" stroke="#1F4E79" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ab)"/>
  <!-- MainWindow → FilterProxyModel -->
  <line x1="230" y1="330" x2="215" y2="808" stroke="#1F4E79" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ab)"/>
  <!-- ExpenseTableModel → ExpenseRepository -->
  <line x1="117" y1="630" x2="117" y2="605" stroke="#1F4E79" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ab)"/>
  <!-- data file → C++ repo -->
  <line x1="480" y1="907" x2="215" y2="600" stroke="#777" stroke-width="1.2" stroke-dasharray="3,3" marker-end="url(#ak)"/>

  <!-- ══ RELATIONSHIPS — Python ══ -->
  <!-- main.py → MainWindow -->
  <line x1="1125" y1="240" x2="1110" y2="265" stroke="#B8860B" stroke-width="1.5" marker-end="url(#ay)"/>
  <!-- resource_path.py → MainWindow -->
  <line x1="1125" y1="330" x2="1110" y2="330" stroke="#B8860B" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#ay)"/>
  <!-- shared UI → Python MainWindow -->
  <line x1="860" y1="140" x2="960" y2="190" stroke="#2E7D32" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#ag)"/>
  <!-- shared UI → Python AddExpenseDialog -->
  <line x1="880" y1="158" x2="980" y2="400" stroke="#2E7D32" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#ag)"/>
  <!-- shared UI → Python SummaryPanel -->
  <line x1="895" y1="158" x2="1000" y2="545" stroke="#2E7D32" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#ag)"/>
  <!-- Python MainWindow owns AddExpenseDialog -->
  <line x1="1002" y1="375" x2="1002" y2="400" stroke="#B8860B" stroke-width="1.5" marker-end="url(#ay)"/>
  <!-- Python MainWindow owns SummaryPanel -->
  <line x1="1002" y1="375" x2="1002" y2="545" stroke="#B8860B" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ay)"/>
  <!-- Python MainWindow → ExpenseRepository -->
  <line x1="1110" y1="280" x2="1125" y2="490" stroke="#B8860B" stroke-width="1.5" marker-end="url(#ay)"/>
  <!-- Python MainWindow → ExpenseTableModel -->
  <line x1="1110" y1="310" x2="1125" y2="668" stroke="#B8860B" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ay)"/>
  <!-- Python MainWindow → FilterProxyModel -->
  <line x1="1110" y1="330" x2="1125" y2="818" stroke="#B8860B" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ay)"/>
  <!-- Python ExpenseTableModel → ExpenseRepository -->
  <line x1="1222" y1="640" x2="1222" y2="615" stroke="#B8860B" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#ay)"/>
  <!-- data file → Python repo -->
  <line x1="860" y1="910" x2="1125" y2="600" stroke="#777" stroke-width="1.2" stroke-dasharray="3,3" marker-end="url(#ak)"/>

</svg>
